import{s as Ce,f as Me,h as ke,n as ae,r as Ge,c as He,i as Ne,j as re}from"../chunks/scheduler.8DbVFZvG.js";import{S as De,i as Pe,g as A,s as D,B as Le,h as S,f as h,c as P,y as we,j as G,k as b,C,A as k,a as w,D as Z,m as H,n as N,l as R,o as $,E as Ee,F as Ae}from"../chunks/index.GP9T9H_y.js";import{e as z,u as Se,d as Te}from"../chunks/each.B9WkaVOe.js";import{p as Oe}from"../chunks/parse.RrI1B0B4.js";import{k as Xe,l as ze,m as Ie}from"../chunks/singletons.5ThikBkr.js";import{l as Fe}from"../chunks/logo1.mMqHU77b.js";const qe=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,Be=(r,e={})=>{ce(e);let{colors:t=["#FFC700","#FF0000","#2E3191","#41BBC7"],duration:a=3500,force:n=.5,particleCount:s=150,particleShape:o="mix",particleSize:l=12,destroyAfterDone:i=!0,stageHeight:y=800,stageWidth:_=1600}=e;(function(u){const p=x("style");p.dataset.neoconfetti="",p.textContent='@keyframes fk9XWG_y-axis{to{transform:translate3d(0,var(--stage-height),0)}}@keyframes fk9XWG_x-axis{to{transform:translate3d(var(--x-landing-point),0,0)}}@keyframes fk9XWG_rotation{50%{transform:rotate3d(var(--half-rotation),180deg)}to{transform:rotate3d(var(--rotation),360deg)}}.fk9XWG_container{width:0;height:0;z-index:1200;position:relative;overflow:visible}.fk9XWG_particle{animation:x-axis var(--duration-chaos)forwards cubic-bezier(var(--x1),var(--x2),var(--x3),var(--x4));animation-name:fk9XWG_x-axis}.fk9XWG_particle>div{animation:y-axis var(--duration-chaos)forwards cubic-bezier(var(--y1),var(--y2),var(--y3),var(--y4));width:var(--width);height:var(--height);animation-name:fk9XWG_y-axis;position:absolute;top:0;left:0}.fk9XWG_particle>div:before{height:100%;width:100%;content:"";background-color:var(--bgcolor);animation:rotation var(--rotation-duration)infinite linear;border-radius:var(--border-radius);animation-name:fk9XWG_rotation;display:block}',Q(document.head,p)})(),r.classList.add("fk9XWG_container"),r.style.setProperty("--stage-height",y+"px");let g,m=se(s,t),f=le(r,m);function c(u,p){const j=B(O()*(Ke-1)),W=o!=="rectangles"&&(o==="circles"||xe(j)),E=(M,T)=>u.style.setProperty(M,T+"");E("--x-landing-point",J(V(ie(p,90)-180),0,180,-_/2,_/2)+"px"),E("--duration-chaos",a-B(1e3*O())+"ms");const X=O()<Ue?F(O()*Re,2):0;E("--x1",X),E("--x2",-1*X),E("--x3",X),E("--x4",F(V(J(V(ie(p,90)-180),0,180,-1,1)),4)),E("--y1",F(O()*ne,4)),E("--y2",F(O()*n*(We()?1:-1),4)),E("--y3",ne),E("--y4",F(Je(J(V(p-180),0,180,n,-n),0),4)),E("--width",(W?l:B(4*O())+l/2)+"px"),E("--height",(W?l:B(2*O())+l)+"px");const I=j.toString(2).padStart(3,"0").split("");E("--half-rotation",I.map(M=>+M/2+"")),E("--rotation",I),E("--rotation-duration",F(O()*(Ve-oe)+oe)+"ms"),E("--border-radius",W?"50%":0)}for(const[u,p]of Object.entries(f))c(p,m[+u].degree);return Promise.resolve().then(()=>g=setTimeout(()=>i&&(r.innerHTML=""),a)),{update(u){ce(u);const p=u.particleCount??s,j=u.colors??t,W=u.stageHeight??y;if(m=se(p,j),p===s&&JSON.stringify(t)!==JSON.stringify(j))for(const[E,{color:X}]of Object.entries(m))f[+E].style.setProperty("--bgcolor",X);p!==s&&(r.innerHTML="",f=le(r,m)),i&&!u.destroyAfterDone&&clearTimeout(g),r.style.setProperty("--stage-height",W+"px"),t=j,a=u.duration??a,n=u.force??n,s=p,o=u.particleShape??o,l=u.particleSize??l,i=u.destroyAfterDone??i,y=W,_=u.stageWidth??_},destroy(){clearTimeout(g)}}};function le(r,e=[]){const t=[];for(const{color:a}of e){const n=x("div");n.className="fk9XWG_particle",n.style.setProperty("--bgcolor",a);const s=x("div");Q(n,s),Q(r,n),t.push(n)}return t}const oe=200,Ve=800,Ue=.1,Re=.3,ne=.5,V=Math.abs,O=Math.random,B=Math.round,Je=Math.max,x=r=>document.createElement(r),Q=(r,e)=>r.appendChild(e),se=(r,e)=>Array.from({length:r},(t,a)=>({color:e[a%e.length],degree:360*a/r})),F=(r,e=2)=>B((r+Number.EPSILON)*10**e)/10**e,J=(r,e,t,a,n)=>(r-e)*(n-a)/(t-e)+a,ie=(r,e)=>r+e>360?r+e-360:r+e,We=()=>O()>.5,Ke=6,xe=r=>r!==1&&We(),Y=r=>r===void 0,q=(r,e)=>{if(!Y(r)&&Number.isSafeInteger(r)&&r<0)throw new Error(e+" must be a positive integer")},ce=({particleCount:r,duration:e,colors:t,particleSize:a,force:n,stageHeight:s,stageWidth:o,particleShape:l})=>{if(q(r,"particleCount"),q(e,"duration"),q(a,"particleSize"),q(n,"force"),q(s,"stageHeight"),q(o,"stageWidth"),!Y(l)&&!/^(mix|circles|rectangles)$/i.test(l))throw new Error('particlesShape should be either "mix" or "circles" or "rectangle"');if(!Y(t)&&!Array.isArray(t))throw new Error("colors must be an array of strings");if(n>1)throw new Error("force must be within 0 and 1")},Qe=Xe("invalidate_all");function Ye(r){return ze.apply_action(r)}function Ze(r){const e=JSON.parse(r);return e.data&&(e.data=Oe(e.data)),e}function ue(r){return HTMLElement.prototype.cloneNode.call(r)}function $e(r,e=()=>{}){const t=async({action:n,result:s,reset:o=!0,invalidateAll:l=!0})=>{s.type==="success"&&(o&&HTMLFormElement.prototype.reset.call(r),l&&await Qe()),(location.origin+location.pathname===n.origin+n.pathname||s.type==="redirect"||s.type==="error")&&Ye(s)};async function a(n){if((n.submitter?.hasAttribute("formmethod")?n.submitter.formMethod:ue(r).method)!=="post")return;n.preventDefault();const o=new URL(n.submitter?.hasAttribute("formaction")?n.submitter.formAction:ue(r).action),l=new FormData(r),i=n.submitter?.getAttribute("name");i&&l.append(i,n.submitter?.getAttribute("value")??"");const y=new AbortController;let _=!1;const m=await e({action:o,cancel:()=>_=!0,controller:y,formData:l,formElement:r,submitter:n.submitter})??t;if(_)return;let f;try{const c=await fetch(o,{method:"POST",headers:{accept:"application/json","x-sveltekit-action":"true"},cache:"no-store",body:l,signal:y.signal});f=Ze(await c.text()),f.type==="error"&&(f.status=c.status)}catch(c){if(c?.name==="AbortError")return;f={type:"error",error:c}}m({action:o,formData:l,formElement:r,update:c=>t({action:o,result:f,reset:c?.reset,invalidateAll:c?.invalidateAll}),result:f})}return HTMLFormElement.prototype.addEventListener.call(r,"submit",a),{destroy(){HTMLFormElement.prototype.removeEventListener.call(r,"submit",a)}}}const je="(prefers-reduced-motion: reduce)",et=()=>window.matchMedia(je).matches,tt=Ie(et(),r=>{{const e=a=>{r(a.matches)},t=window.matchMedia(je);return t.addEventListener("change",e),()=>{t.removeEventListener("change",e)}}}),{document:K,window:at}=qe;function fe(r,e,t){const a=r.slice();return a[11]=e[t],a}function de(r,e,t){const a=r.slice();return a[14]=e[t],a}function he(r,e,t){const a=r.slice();a[11]=e[t];const n=a[11]===a[4];return a[17]=n,a}function me(r,e,t){const a=r.slice();a[20]=e[t];const n=a[17]?a[3]:a[1].guesses[a[11]];a[21]=n;const s=a[1].answers[a[11]]?.[a[20]];a[22]=s;const o=a[21]?.[a[20]]??"";a[23]=o;const l=a[17]&&a[20]===a[21].length;a[24]=l;const i=a[22]==="x";a[25]=i;const y=a[22]==="c";a[26]=y;const _=a[22]==="_";return a[27]=_,a}function rt(r){let e;return{c(){e=H("empty")},l(t){e=N(t,"empty")},m(t,a){w(t,e,a)},d(t){t&&h(e)}}}function lt(r){let e;return{c(){e=H("(absent)")},l(t){e=N(t,"(absent)")},m(t,a){w(t,e,a)},d(t){t&&h(e)}}}function ot(r){let e;return{c(){e=H("(present)")},l(t){e=N(t,"(present)")},m(t,a){w(t,e,a)},d(t){t&&h(e)}}}function nt(r){let e;return{c(){e=H("(correct)")},l(t){e=N(t,"(correct)")},m(t,a){w(t,e,a)},d(t){t&&h(e)}}}function _e(r,e){let t,a=e[23]+"",n,s,o,l,i,y,_;function g(c,u){return c[25]?nt:c[26]?ot:c[27]?lt:rt}let m=g(e),f=m(e);return{key:r,first:null,c(){t=A("div"),n=H(a),s=D(),o=A("span"),f.c(),l=D(),i=A("input"),this.h()},l(c){t=S(c,"DIV",{class:!0});var u=G(t);n=N(u,a),s=P(u),o=S(u,"SPAN",{class:!0});var p=G(o);f.l(p),p.forEach(h),l=P(u),i=S(u,"INPUT",{name:!0,type:!0}),u.forEach(h),this.h()},h(){b(o,"class","visually-hidden"),b(i,"name","guess"),i.disabled=y=!e[17],b(i,"type","hidden"),i.value=_=e[23],b(t,"class","letter svelte-1pg2j5l"),C(t,"exact",e[25]),C(t,"close",e[26]),C(t,"missing",e[27]),C(t,"selected",e[24]),this.first=t},m(c,u){w(c,t,u),k(t,n),k(t,s),k(t,o),f.m(o,null),k(t,l),k(t,i)},p(c,u){e=c,u&26&&a!==(a=e[23]+"")&&$(n,a),m!==(m=g(e))&&(f.d(1),f=m(e),f&&(f.c(),f.m(o,null))),u&16&&y!==(y=!e[17])&&(i.disabled=y),u&26&&_!==(_=e[23])&&(i.value=_),u&2&&C(t,"exact",e[25]),u&2&&C(t,"close",e[26]),u&2&&C(t,"missing",e[27]),u&26&&C(t,"selected",e[24])},d(c){c&&h(t),f.d()}}}function pe(r,e){let t,a,n=e[11]+1+"",s,o,l,i=[],y=new Map,_,g=z(Array.from(Array(5).keys()));const m=f=>f[20];for(let f=0;f<g.length;f+=1){let c=me(e,g,f),u=m(c);y.set(u,i[f]=_e(u,c))}return{key:r,first:null,c(){t=A("h2"),a=H("Row "),s=H(n),o=D(),l=A("div");for(let f=0;f<i.length;f+=1)i[f].c();_=D(),this.h()},l(f){t=S(f,"H2",{class:!0});var c=G(t);a=N(c,"Row "),s=N(c,n),c.forEach(h),o=P(f),l=S(f,"DIV",{class:!0});var u=G(l);for(let p=0;p<i.length;p+=1)i[p].l(u);_=P(u),u.forEach(h),this.h()},h(){b(t,"class","visually-hidden"),b(l,"class","row svelte-1pg2j5l"),C(l,"current",e[17]),this.first=t},m(f,c){w(f,t,c),k(t,a),k(t,s),w(f,o,c),w(f,l,c);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(l,null);k(l,_)},p(f,c){e=f,c&26&&(g=z(Array.from(Array(5).keys())),i=Se(i,c,m,1,e,g,y,l,Te,_e,_,me)),c&16&&C(l,"current",e[17])},d(f){f&&(h(t),h(o),h(l));for(let c=0;c<i.length;c+=1)i[c].d()}}}function st(r){let e,t,a,n,s,o,l="back",i,y,_,g=z(["qwertyuiop","asdfghjkl","zxcvbnm"]),m=[];for(let f=0;f<3;f+=1)m[f]=ge(fe(r,g,f));return{c(){e=A("div"),t=A("button"),a=H("enter"),s=D(),o=A("button"),o.textContent=l,i=D();for(let f=0;f<3;f+=1)m[f].c();this.h()},l(f){e=S(f,"DIV",{class:!0});var c=G(e);t=S(c,"BUTTON",{"data-key":!0,class:!0});var u=G(t);a=N(u,"enter"),u.forEach(h),s=P(c),o=S(c,"BUTTON",{"data-key":!0,formaction:!0,name:!0,class:!0,"data-svelte-h":!0}),we(o)!=="svelte-1ptb1bp"&&(o.textContent=l),i=P(c);for(let p=0;p<3;p+=1)m[p].l(c);c.forEach(h),this.h()},h(){b(t,"data-key","enter"),t.disabled=n=!r[7],b(t,"class","svelte-1pg2j5l"),C(t,"selected",r[7]),b(o,"data-key","backspace"),b(o,"formaction","?/update"),b(o,"name","key"),o.value="backspace",b(o,"class","svelte-1pg2j5l"),b(e,"class","keyboard svelte-1pg2j5l")},m(f,c){w(f,e,c),k(e,t),k(t,a),k(e,s),k(e,o),k(e,i);for(let u=0;u<3;u+=1)m[u]&&m[u].m(e,null);y||(_=Z(o,"click",Ee(r[9])),y=!0)},p(f,c){if(c&128&&n!==(n=!f[7])&&(t.disabled=n),c&128&&C(t,"selected",f[7]),c&708){g=z(["qwertyuiop","asdfghjkl","zxcvbnm"]);let u;for(u=0;u<3;u+=1){const p=fe(f,g,u);m[u]?m[u].p(p,c):(m[u]=ge(p),m[u].c(),m[u].m(e,null))}for(;u<3;u+=1)m[u].d(1)}},d(f){f&&h(e),Ae(m,f),y=!1,_()}}}function it(r){let e,t,a=r[5]?"you won :)":"game over :(",n,s,o=!r[5]&&r[1].answer&&ye(r);return{c(){o&&o.c(),e=D(),t=A("button"),n=H(a),s=H(" play again?"),this.h()},l(l){o&&o.l(l),e=P(l),t=S(l,"BUTTON",{"data-key":!0,class:!0,formaction:!0});var i=G(t);n=N(i,a),s=N(i," play again?"),i.forEach(h),this.h()},h(){b(t,"data-key","enter"),b(t,"class","restart selected svelte-1pg2j5l"),b(t,"formaction","?/restart")},m(l,i){o&&o.m(l,i),w(l,e,i),w(l,t,i),k(t,n),k(t,s)},p(l,i){!l[5]&&l[1].answer?o?o.p(l,i):(o=ye(l),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),i&32&&a!==(a=l[5]?"you won :)":"game over :(")&&$(n,a)},d(l){l&&(h(e),h(t)),o&&o.d(l)}}}function be(r){let e,t,a,n,s,o;return{c(){e=A("button"),t=H(r[14]),this.h()},l(l){e=S(l,"BUTTON",{"data-key":!0,class:!0,formaction:!0,name:!0,"aria-label":!0});var i=G(e);t=N(i,r[14]),i.forEach(h),this.h()},h(){b(e,"data-key",r[14]),b(e,"class",a=re(r[2][r[14]])+" svelte-1pg2j5l"),e.disabled=r[7],b(e,"formaction","?/update"),b(e,"name","key"),e.value=r[14],b(e,"aria-label",n=r[14]+" "+(r[6][r[14]]||""))},m(l,i){w(l,e,i),k(e,t),s||(o=Z(e,"click",Ee(r[9])),s=!0)},p(l,i){i&4&&a!==(a=re(l[2][l[14]])+" svelte-1pg2j5l")&&b(e,"class",a),i&128&&(e.disabled=l[7]),i&64&&n!==(n=l[14]+" "+(l[6][l[14]]||""))&&b(e,"aria-label",n)},d(l){l&&h(e),s=!1,o()}}}function ge(r){let e,t,a=z(r[11]),n=[];for(let s=0;s<a.length;s+=1)n[s]=be(de(r,a,s));return{c(){e=A("div");for(let s=0;s<n.length;s+=1)n[s].c();t=D(),this.h()},l(s){e=S(s,"DIV",{class:!0});var o=G(e);for(let l=0;l<n.length;l+=1)n[l].l(o);t=P(o),o.forEach(h),this.h()},h(){b(e,"class","row svelte-1pg2j5l")},m(s,o){w(s,e,o);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(e,null);k(e,t)},p(s,o){if(o&708){a=z(s[11]);let l;for(l=0;l<a.length;l+=1){const i=de(s,a,l);n[l]?n[l].p(i,o):(n[l]=be(i),n[l].c(),n[l].m(e,t))}for(;l<n.length;l+=1)n[l].d(1);n.length=a.length}},d(s){s&&h(e),Ae(n,s)}}}function ye(r){let e,t,a=r[1].answer+"",n,s;return{c(){e=A("p"),t=H('the answer was "'),n=H(a),s=H('"')},l(o){e=S(o,"P",{});var l=G(e);t=N(l,'the answer was "'),n=N(l,a),s=N(l,'"'),l.forEach(h)},m(o,l){w(o,e,l),k(e,t),k(e,n),k(e,s)},p(o,l){l&2&&a!==(a=o[1].answer+"")&&$(n,a)},d(o){o&&h(e)}}}function ve(r){let e,t,a,n;return{c(){e=A("div"),this.h()},l(s){e=S(s,"DIV",{style:!0}),G(e).forEach(h),this.h()},h(){R(e,"position","absolute"),R(e,"left","50%"),R(e,"top","30%")},m(s,o){w(s,e,o),a||(n=ke(t=Be.call(null,e,{particleCount:r[8]?0:void 0,force:.7,stageWidth:window.innerWidth,stageHeight:window.innerHeight,colors:["#ff3e00","#40b3ff","#676778"]})),a=!0)},p(s,o){t&&Ne(t.update)&&o&256&&t.update.call(null,{particleCount:s[8]?0:void 0,force:.7,stageWidth:window.innerWidth,stageHeight:window.innerHeight,colors:["#ff3e00","#40b3ff","#676778"]})},d(s){s&&h(e),a=!1,n()}}}function ct(r){let e,t,a,n="Sverdle",s,o,l,i=[],y=new Map,_,g,m,f,c,u,p,j,W=z(Array.from(Array(6).keys()));const E=d=>d[11];for(let d=0;d<W.length;d+=1){let v=he(r,W,d),L=E(v);y.set(L,i[d]=pe(L,v))}function X(d,v){return d[5]||d[1].answers.length>=6?it:st}let I=X(r),M=I(r),T=r[5]&&ve(r);return{c(){e=A("meta"),t=D(),a=A("h1"),a.textContent=n,s=D(),o=A("form"),l=A("div");for(let d=0;d<i.length;d+=1)i[d].c();_=D(),g=A("div"),M.c(),m=D(),T&&T.c(),f=D(),c=A("img"),this.h()},l(d){const v=Le("svelte-18lvto8",K.head);e=S(v,"META",{name:!0,content:!0}),v.forEach(h),t=P(d),a=S(d,"H1",{class:!0,"data-svelte-h":!0}),we(a)!=="svelte-16hvqlg"&&(a.textContent=n),s=P(d),o=S(d,"FORM",{method:!0,action:!0,class:!0});var L=G(o);l=S(L,"DIV",{class:!0});var ee=G(l);for(let U=0;U<i.length;U+=1)i[U].l(ee);ee.forEach(h),_=P(L),g=S(L,"DIV",{class:!0});var te=G(g);M.l(te),te.forEach(h),L.forEach(h),m=P(d),T&&T.l(d),f=P(d),c=S(d,"IMG",{alt:!0,src:!0}),this.h()},h(){K.title="Sverdle",b(e,"name","description"),b(e,"content","A Wordle clone written in SvelteKit"),b(a,"class","visually-hidden"),b(l,"class","grid svelte-1pg2j5l"),C(l,"playing",!r[5]),C(l,"bad-guess",r[0]?.badGuess),b(g,"class","controls svelte-1pg2j5l"),b(o,"method","POST"),b(o,"action","?/enter"),b(o,"class","svelte-1pg2j5l"),b(c,"alt","The project logo"),Me(c.src,u=Fe)||b(c,"src",u)},m(d,v){k(K.head,e),w(d,t,v),w(d,a,v),w(d,s,v),w(d,o,v),k(o,l);for(let L=0;L<i.length;L+=1)i[L]&&i[L].m(l,null);k(o,_),k(o,g),M.m(g,null),w(d,m,v),T&&T.m(d,v),w(d,f,v),w(d,c,v),p||(j=[Z(at,"keydown",r[10]),ke($e.call(null,o,ut))],p=!0)},p(d,[v]){v&26&&(W=z(Array.from(Array(6).keys())),i=Se(i,v,E,1,d,W,y,l,Te,pe,null,he)),v&32&&C(l,"playing",!d[5]),v&1&&C(l,"bad-guess",d[0]?.badGuess),I===(I=X(d))&&M?M.p(d,v):(M.d(1),M=I(d),M&&(M.c(),M.m(g,null))),d[5]?T?T.p(d,v):(T=ve(d),T.c(),T.m(f.parentNode,f)):T&&(T.d(1),T=null)},i:ae,o:ae,d(d){d&&(h(t),h(a),h(s),h(o),h(m),h(f),h(c)),h(e);for(let v=0;v<i.length;v+=1)i[v].d();M.d(),T&&T.d(d),p=!1,Ge(j)}}}const ut=()=>({update:r})=>{r({reset:!1})};function ft(r,e,t){let a,n,s,o,l;He(r,tt,c=>t(8,l=c));let{data:i}=e,{form:y}=e,_,g;function m(c){const u=c.target.getAttribute("data-key");u==="backspace"?(t(3,s=s.slice(0,-1)),y?.badGuess&&t(0,y.badGuess=!1,y)):s.length<5&&t(3,s+=u)}function f(c){c.metaKey||c.key==="Enter"&&!o||document.querySelector(`[data-key="${c.key}" i]`)?.dispatchEvent(new MouseEvent("click",{cancelable:!0}))}return r.$$set=c=>{"data"in c&&t(1,i=c.data),"form"in c&&t(0,y=c.form)},r.$$.update=()=>{r.$$.dirty&2&&t(5,a=i.answers.at(-1)==="xxxxx"),r.$$.dirty&34&&t(4,n=a?-1:i.answers.length),r.$$.dirty&18&&t(3,s=i.guesses[n]||""),r.$$.dirty&8&&t(7,o=s.length===5),r.$$.dirty&6&&(t(2,_={}),t(6,g={}),i.answers.forEach((c,u)=>{const p=i.guesses[u];for(let j=0;j<5;j+=1){const W=p[j];c[j]==="x"?(t(2,_[W]="exact",_),t(6,g[W]="correct",g)):_[W]||(t(2,_[W]=c[j]==="c"?"close":"missing",_),t(6,g[W]=c[j]==="c"?"present":"absent",g))}}))},[y,i,_,s,n,a,g,o,l,m,f]}class gt extends De{constructor(e){super(),Pe(this,e,ft,ct,Ce,{data:1,form:0})}}export{gt as component};
